<!DOCTYPE html>
<html lang="en">
    <%-include('layouts/header')-%>
    <style>
        /* Reduce masthead spacing and position title at bottom */
        header.masthead {
            padding-top: calc(4rem + 57px) !important;
            padding-bottom: 2rem !important;
            margin-bottom: 0 !important;
            display: flex !important;
            align-items: flex-end !important;
            min-height: 400px !important;
        }
        
        @media (min-width: 992px) {
            header.masthead {
                padding-top: 6rem !important;
                padding-bottom: 3rem !important;
                min-height: 500px !important;
            }
        }
        
        /* Position the post heading container at the bottom */
        header.masthead .container {
            margin-top: auto !important;
        }
        
        /* Ensure post content starts right after the header */
        article.mb-4 {
            margin-bottom: 2rem !important;
            padding-top: 2rem !important;
        }
        
        /* Add some spacing between title and content */
        .post-content {
            margin-top: 1rem;
        }
        
        /* Make sure the post heading text is readable */
        .post-heading {
            background: rgba(0, 0, 0, 0.3) !important;
            padding: 1.5rem !important;
            border-radius: 8px !important;
            backdrop-filter: blur(5px) !important;
        }
    </style>
    <body>
        <!-- Navigation-->
        <%-include('layouts/navbar')-%>
        <!-- Page Header-->
        <header class="masthead" style="background-image: url(<%=post.image%>)">
            <div class="container position-relative px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <div class="post-heading">
                            <h3><%= post.title %></h3>
                            <!--<h2 class="subheading"><%= post.body.substring(0, 100) %>...</h2>-->
                            <span class="meta">
                                Posted by
                                <a href="#!">
                                    <% if (post.author && post.author.username) { %>
                                        <%= post.author.username %>
                                    <% } else { %>
                                        Unknown Author
                                    <% } %>
                                </a>
                                on <%= new Date(post.createdAt || Date.now()).toDateString() %>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- Post Content-->
        <article class="mb-4">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <!-- Display the full blog post content -->
                        <div class="post-content">
                            <%= post.body %>
                        </div>
                        
                        <!-- Navigation back to home -->
                        <div class="mt-5 pt-3">
                            <a href="/" class="btn btn-outline-primary">‚Üê Back to All Posts</a>
                        </div>
                    </div>
                </div>
            </div>
        </article>
        <!-- Footer-->
        <%-include('layouts/footer')-%>        
        <!-- Bootstrap core JS-->
        <%-include('layouts/script')-%>
    </body>
</html>
